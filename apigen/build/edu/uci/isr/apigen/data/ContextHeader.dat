package $$(PACKAGE_NAME);

import java.util.*;

import edu.uci.isr.xarch.*;

import org.w3c.dom.*;

import edu.uci.isr.xarch.IXArch;
import edu.uci.isr.xarch.IXArchContext;

/**
 * The context object for the $$(PACKAGE_TITLE) package.
 * This object is used to create objects that are used
 * in the $$(PACKAGE_TITLE) namespace.
 *
 * @author Automatically Generated by xArch apigen
 */
public class $$(PACKAGE_CONTEXT_CLASS_NAME) implements $$(PACKAGE_CONTEXT_INTERFACE_NAME) {

	protected static final String DEFAULT_ELT_NAME = "anonymousInstanceTag";
	protected Document doc;
	protected IXArch xArch;

	/**
	 * Create a new $$(PACKAGE_CONTEXT_CLASS_NAME) for the given
	 * IXArch object.
	 * @param xArch XArch object to contextualize in this namespace.
	 */
	public $$(PACKAGE_CONTEXT_CLASS_NAME)(IXArch xArch){
		if(!(xArch instanceof DOMBased)){
			throw new IllegalArgumentException("Cannot process non-DOM based xArch entities.");
		}
		Node docRootNode = ((DOMBased)xArch).getDOMNode();
		synchronized(DOMUtils.getDOMLock(docRootNode)){
			this.doc = docRootNode.getOwnerDocument();
			xArch.addSchemaLocation("$$(SCHEMA_URI)", "$$(SCHEMA_ACTUAL_LOCATION)");
			this.xArch = xArch;
		}
	}

	public IXArch getXArch(){
		return xArch;
	}
	
	protected Element createElement(String name){
		synchronized(DOMUtils.getDOMLock(doc)){
			return doc.createElementNS($$(PACKAGE_CONSTANTS_CLASS_NAME).NS_URI, name);
		}
	}

	public XArchTypeMetadata getTypeMetadata(){
		return $$(PACKAGE_CONTEXT_INTERFACE_NAME).TYPE_METADATA;
	}
